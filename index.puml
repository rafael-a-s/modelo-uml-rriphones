@startuml

'=============== Produto ============'
class Iphone{
  Integer: id
  Double: preco
  String: descricao
}
class Modelo{
  Integer: id
  String: nome
}
enum Cor{
  Integer: id
  String: label
}
class Estoque{
  Integer: id
  Integer: quantidade

}
class entradaEstoque{
  Integer: id
  String: modelo
  String: cor

}
Iphone "*"--o "1" Cor
Iphone "*"--*"1" Modelo
Iphone "1"--"1" Estoque
Estoque "1"-->"*" entradaEstoque
'=============== Usuario ============'
class Usuario{
  Integer: id
  String: Nome
  String: cpf
  Date: dataNascimento

}
class Telefone{
  Integer: id
  String: codigoDeArea
  String: numero
}
enum Genero{
  Integer: id
  String: label
}
class Endereco{
  Integer: id
  String: cep 
  String: Endereco
  Integer: numero
  String: complemento
}
'Guardar hash do cv do cartao'
'Hash da data de vencimento'
class Cartao{
  String: numeroCartão
  String: dataVencimento
  String: cvDoCartão 
}

Enum Funcao{
  Integer: id
  String: label
}

Usuario "*"--o "1" Genero
Usuario "1"--*"1" Telefone
Usuario "1"--*"*" Endereco
Usuario "1"--o "*" Cartao
Cartao "1"-->"*" Funcao
'=============== Compra ============'
class Carrinho{
  List<Iphone>: ListaCarrinho
}
class Venda{
  Integer: id
  String: relatorio
}
class  Pagamento<abstract>{
  Data: dataHora
}
class Pix {
  List<Chave>: ListaPix
}
class Chave{
  String:chavePix
}
Enum TipoChave{
  Integer: id
  String: label
}

Enum CartaoCreditoDebito{
  Integer: id
  String: label
}


Carrinho "1"--o "*" Iphone
Venda "1"--"1" Carrinho
Venda "*"--o "1" Usuario
Venda "1"--"1" Pagamento
Pagamento "1"--|>"1" Pix
Pagamento "1"--|>"1" CartaoCreditoDebito
Pix "1"--"*" Chave
Chave "1"-->"1" TipoChave

'=============== relacionamentos ============'
'Buscar os dados de enderço via api dos correios'

@enduml